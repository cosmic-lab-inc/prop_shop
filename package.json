{
  "name": "root",
  "private": true,
  "workspaces": {
    "packages": [
      "packages/*"
    ]
  },
  "scripts": {
    "clean": "yes | lerna run clean && lerna clean -y && rm -rf .nx && rm -rf node_modules",
    "lint": "prettier --write \"./**/*.{ts,tsx}\" --loglevel silent",
    "prettify:fix": "lerna run prettify:fix",
    "unlink:app-to-sdk": "cd packages/sdk && yarn unlink && cd ../app && yarn unlink && cd ../..",
    "link:app-to-sdk": "cd packages/sdk && yarn link && cd ../app && yarn link @cosmic-lab/prop-shop-sdk && cd ../..",
    "unlink:proxy-to-sdk": "cd packages/sdk && yarn unlink && cd ../proxy && yarn unlink && cd ../..",
    "link:proxy-to-sdk": "cd packages/sdk && yarn link && cd ../proxy && yarn link @cosmic-lab/prop-shop-sdk && cd ../..",
    "unlink:server-to-sdk": "cd packages/sdk && yarn unlink && cd ../server && yarn unlink && cd ../..",
    "link:server-to-sdk": "cd packages/sdk && yarn link && cd ../server && yarn link @cosmic-lab/prop-shop-sdk && cd ../..",
    "unlink:drift-vaults": "cd packages/sdk && yarn unlink @drift-labs/vaults-sdk && cd ../..",
    "link:drift-vaults": "cd packages/sdk && yarn link @drift-labs/vaults-sdk && cd ../..",
    "unlink:root-drift-vaults": "yarn unlink @drift-labs/vaults-sdk",
    "link:root-drift-vaults": "yarn link @drift-labs/vaults-sdk",
    "link:all": "yarn link:app-to-sdk && yarn link:proxy-to-sdk && yarn link:server-to-sdk && yarn link:root-drift-vaults && yarn link:drift-vaults",
    "build:app": "lerna run build --scope prop-shop-app",
    "build:sdk": "lerna run build --scope @cosmic-lab/prop-shop-sdk",
    "build:proxy": "lerna run build --scope prop-shop-proxy",
    "build:server": "lerna run build --scope prop-shop-server",
    "build": "lerna run build",
    "watch:app": "lerna run watch --scope prop-shop-app --stream --verbose",
    "watch:sdk": "lerna run watch --scope @cosmic-lab/prop-shop-sdk --stream --verbose",
    "watch": "lerna run watch",
    "rebuild": "yarn clean && yarn && yarn build",
    "rebuild:dev": "yarn clean && yarn && yarn link:all && yarn && yarn build",
    "execute:dev": "concurrently --kill-others \"yarn watch:app\" \"yarn watch:sdk\" \"yarn start:proxy\" \"yarn start:app\"",
    "execute": "concurrently --kill-others \"yarn start:proxy\" \"yarn start:app\"",
    "start:app": "lerna run start --scope prop-shop-app --stream --verbose",
    "start:proxy": "lerna run start --scope prop-shop-proxy --stream --verbose",
    "start:server": "lerna run start --scope prop-shop-server --stream --verbose",
    "start:dev": "ts-node ./lifecycle-dev",
    "start": "ts-node ./lifecycle",
    "setup-target": "rm -rf target && mkdir target && mkdir target/deploy && mkdir target/idl",
    "dep:competitions": "cp deps/drift_competitions.so target/deploy/drift_competitions.so",
    "dep:vaults": "cp deps/drift_vaults.json target/idl/drift_vaults.json && cp deps/drift_vaults.so target/deploy/drift_vaults.so",
    "dep:drift": "cp deps/drift.json target/idl/drift.json && cp deps/drift.so target/deploy/drift.so",
    "dep:pyth": "cp deps/pyth.json target/idl/pyth.json && cp deps/pyth.so target/deploy/pyth.so",
    "dep:all": "yarn dep:competitions && yarn dep:vaults && yarn dep:drift && yarn dep:pyth",
    "test:client": "jest --forceExit --verbose --testPathPattern tests/client.test.ts",
    "test:markets": "jest --verbose --testPathPattern tests/markets.test.ts",
    "test:vaults": "jest --detectOpenHandles --testPathPattern tests/driftVaults.test.ts",
    "anchor-tests": "yarn setup-target && yarn dep:all && yarn test:vaults"
  },
  "devDependencies": {
    "@jest/globals": "^29.7.0",
    "@types/chai": "^4.3.1",
    "@types/mocha": "^9.0.0",
    "@drift-labs/vaults-sdk": "0.1.413",
    "chai": "^4.3.6",
    "concurrently": "^8.2.2",
    "jest": "^29.7.0",
    "mocha": "10.1.0",
    "ts-jest": "^29.1.2",
    "ts-mocha": "^10.0.0",
    "ts-node": "^10.9.2"
  }
}
